<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>10. Long running tests | Inventory System </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="10. Long running tests | Inventory System ">
    
    
      <link rel="shortcut icon" href="../../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../../../toc.html">
    
    <meta property="docfx:rel" content="../../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../../../index.html">
                <img id="logo" class="svg" src="../../../../../logo.svg" alt="Inventory System">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="10-long-running-tests">10. Long running tests</h1>

<h2 id="learning-objectives">Learning objectives</h2>
<p>This exercise will cover best practices and pitfalls for tests that have a long runtime, such as tests yielding back a <code>WaitForSeconds</code>.</p>
<h2 id="intro-and-motivation">Intro and motivation</h2>
<p>In Play Mode it is possible for UnityTests to return <a href="https://docs.unity3d.com/ScriptReference/YieldInstruction.html">Yield instructions</a>, such as <code>WaitForSeconds</code>. This is supported because in some test cases it can be valid to wait for a limited time. However, long-running tests are in general a bad practice that should be avoided when possible. If you can't avoid a long-running test, it's recommended to provide the test with <code>[Category]</code> and <code>[Explicit]</code> attributes. The <code>[Category]</code> attribute is used to label tests with a category name that can later be used as a filter to run a subset of tests selectively. The <code>[Explicit]</code> attribute ensures that the test is not run by default when running all tests. The test is only run when it is explicitly selected in the UI, or when its category is selected.</p>
<pre><code>[UnityTest]
[Explicit, Category(&quot;integration&quot;)]
public IEnumerator MySlowTest()
{
...
}
</code></pre>
<p>In practice, this means that if you give some long-running tests the category &quot;integration&quot;, then they will only be run if the &quot;integration&quot; category is selected. This makes it possible to keep &quot;All tests&quot; running relatively fast, even on a large project. It is also possible to specify the <code>[Explicit]</code> and <code>[Category]</code> attributes on a class level, which then applies to all tests in the class and on an assembly level, which applied to all tests inside that assembly. An example with it applied to assemblies:</p>
<pre><code>[assembly:Explicit]
[assembly:Category(&quot;integration&quot;)]
</code></pre>
<p>It is a good practice to have assembly level attributes defined in an <code>AssemblyInfo.cs</code> file.</p>
<h2 id="exercise">Exercise</h2>
<p>Import the <a href="welcome.html#import-samples">sample</a> <code>10_LongRunningTests</code>, which is set up with a test assembly for Play Mode.</p>
<p>The exercise is to add a new <code>UnityTest</code>, which yields back a <code>WaitForSeconds</code> command and then tag it accordingly with <code>[Category]</code> and <code>[Explicit]</code> tags.</p>
<p>When pressing <strong>RunAll</strong>, the test should be skipped. When the Category is selected in the category drop down in the UI, then the test should not be skipped when <strong>RunAll</strong> is selected.</p>
<h2 id="solution">Solution</h2>
<p>The sample <code>10_LongRunningTests_Solution</code> contains the solution.</p>
<p>The implemented test can look like this:</p>
<pre><code>[UnityTest]
[Explicit, Category(&quot;integration&quot;)]
public IEnumerator ASlowTest()
{
â€ƒyield return new WaitForSeconds(5);
}
</code></pre>
<h2 id="further-reading-and-resources">Further reading and resources</h2>
<p><a href="https://docs.nunit.org/articles/nunit/writing-tests/attributes/category.html">Nunit documentation for the Category attribute</a></p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
